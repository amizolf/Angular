<main *ngIf="resumeData">

  <!-- Header Section -->
  <header *ngIf="resumeData.header" class="resume-header">
    <div class="container">
      <br>
      <img *ngIf="resumeData.header.profilePhoto" [src]="resumeData.header.profilePhoto" alt="Profile Photo" class="profile-picture">

      <h1>{{ resumeData.header.name }}</h1>
      <h2>{{ resumeData.header.role }}</h2>

      <div class="social-links">
        <a *ngIf="resumeData.header.socialLinks.facebook" [href]="resumeData.header.socialLinks.facebook" target="_blank">
          <i class="fab fa-facebook-f"></i>
        </a>
        <a *ngIf="resumeData.header.socialLinks.twitter" [href]="resumeData.header.socialLinks.twitter" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
        <a *ngIf="resumeData.header.socialLinks.github" [href]="resumeData.header.socialLinks.github" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      </div>
    </div>
  </header>


  <!-- About and Basic Information Section -->
  <section class="about-section" *ngIf="resumeData.about && resumeData.basicInfo">
    <div class="container">
      <div class="about-info">
        <div class="about">
          <h3>About</h3>
          <p>{{ resumeData.about.description }}</p>
        </div>
        <div class="basic-info">
          <h3>Basic Information</h3>
          <ul>
            <li><strong>Age:</strong> {{ resumeData.basicInfo.age }}</li>
            <li><strong>Email:</strong> {{ resumeData.basicInfo.email }}</li>
            <li><strong>Phone:</strong> {{ resumeData.basicInfo.phone }}</li>
            <li><strong>Address:</strong> {{ resumeData.basicInfo.address }}</li>
            <li><strong>Language:</strong> {{ resumeData.basicInfo.language }}</li>
          </ul>
        </div>
      </div>
    </div>
  </section>


  <br>
  <!-- Professional Skills -->
  <div class="skills-section" *ngIf="resumeData && resumeData.professionalSkills">
    <h3>Professional Skills</h3>
    <div class="skills-container">
      <div *ngFor="let skill of resumeData.professionalSkills" class="skill">
        <span class="skill-name">{{ skill.skill }}</span>
        <div class="skill-bar">
          <div class="skill-progress" [style.width.%]="skill.proficiency"></div>
        </div>
        <span class="skill-percent">{{ skill.proficiency }}%</span>
      </div>
    </div>
  </div>

  <!-- Portfolio Section -->
  <section class="portfolio-section" *ngIf="resumeData && resumeData.portfolio">
    <h3>Portfolio</h3>
    <div class="portfolio-container">
      <div *ngFor="let item of resumeData.portfolio" class="portfolio-item">
        <img [src]="item.image" [alt]="item.alt">
      </div>
    </div>
  </section>



  <section class="work-experience-section">
    <h2>Work Experience</h2>
    <div *ngFor="let work of resumeData.workExperience" class="experience-card">
      <div class="experience-timeline">
        <p>{{ work.dateRange }}</p>
        <h3>{{ work.company }}</h3>
      </div>
      <div class="experience-content">
        <h4>{{ work.position }}</h4>
        <p>{{ work.description }}</p>
      </div>
    </div>
  </section>

  <section class="education-section">
    <h2>Education</h2>
    <div *ngFor="let education of resumeData.education" class="education-card">
      <div class="education-timeline">
        <p>{{ education.year }}</p>
        <h3>{{ education.degree }}</h3>
      </div>
      <div class="education-content">
        <h4>{{ education.field }}</h4>
        <p>{{ education.institution }}</p>
      </div>
    </div>
  </section>


  <section class="references-section">
    <h2>References</h2>
    <div class="reference-container">
      <ng-container *ngFor="let reference of resumeData.references; let i = index">
        <div class="reference-card" *ngIf="activeTab === i">
          <img [src]="reference.photo" alt="{{ reference.name }}" class="reference-photo">
          <div class="reference-content">
            <h3>{{ reference.name }}</h3>
            <p class="position">{{ reference.position }} / {{ reference.company }}</p>
            <p class="reference-text">{{ reference.referenceText }}</p>
          </div>
        </div>
      </ng-container>
      <div class="tabs">
        <span *ngFor="let reference of resumeData.references; let i = index"
              [class.active]="activeTab === i"
              (click)="setActiveTab(i)"></span>
      </div>
    </div>
  </section>



  <section class="contact-section">
    <h2>Contact Me</h2>
    <div class="contact-container" *ngIf="resumeData?.contact">
      <div class="contact-info">
        <form>
          <div class="input-group">
            <input type="text" name="name" placeholder="Name" required />
          </div>
          <div class="input-group">
            <input type="email" name="email" placeholder="Email" required />
          </div>
          <div class="input-group">
            <input type="text" name="subject" placeholder="Subject" />
          </div>
          <div class="input-group">
            <textarea name="message" placeholder="Your Message"></textarea>
          </div>
          <button type="submit" class="btn-submit">Send</button>
        </form>

        <!-- Display contact details from JSON -->
        <div class="contact-details">
          <p><strong>Address:</strong> {{ resumeData.contact.address }}</p>
          <p><strong>Phone:</strong> {{ resumeData.contact.phone }}</p>
          <p><strong>Email:</strong> {{ resumeData.contact.email }}</p>
        </div>
      </div>
    </div>
    <!-- Google Map -->
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d175693.3040591073!2d-81.10828237890627!3d46.4901749!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4d2f8bc515865c67%3A0xffb20c4b5ab178f4!2sGreater%20Sudbury%2C%20ON!5e0!3m2!1sen!2sca!4v1697300068471!5m2!1sen!2sca"
            width="100%"
            height="450"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
    </iframe>



  </section>

  <br />

  <!-- footer Section -->
  <section class="footer-section" *ngIf="resumeData?.footer">
    <div class="container">
      <div class="footer-info">
        <div class="footer">
          <h3>{{ resumeData.footer.name }}</h3>
          <p>{{ resumeData.footer.description }}</p>
        </div>
      </div>
    </div>
  </section>


  <br />
